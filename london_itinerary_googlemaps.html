<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>伦敦两日精华行程（Google Maps版，可分享）</title>
  <style>
    :root { --sidebar-w: 360px; }
    html, body { height: 100%; margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif; }
    .app { display: flex; height: 100%; width: 100%; }
    .sidebar {
      width: var(--sidebar-w);
      max-width: 92vw;
      border-right: 1px solid #e6e6e6;
      padding: 14px 14px 10px 14px;
      box-sizing: border-box;
      overflow: auto;
      background: #fff;
    }
    .main { flex: 1; display: flex; flex-direction: column; min-width: 200px; }
    .topbar {
      border-bottom: 1px solid #eee;
      padding: 10px 12px;
      display: flex;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
      background: #fff;
    }
    .btn {
      border: 1px solid #ddd; border-radius: 10px;
      padding: 8px 10px;
      background: #fafafa;
      cursor: pointer;
      font-size: 12px;
    }
    .btn:hover { background: #f2f2f2; }
    iframe { border: 0; width: 100%; flex: 1; }
    h1 { font-size: 16px; margin: 0 0 10px 0; line-height: 1.25; }
    .meta { font-size: 12px; color: #555; margin-bottom: 10px; line-height: 1.35; }
    .section-title { font-size: 13px; margin: 14px 0 6px 0; color: #111; }
    .list { display: grid; gap: 8px; }
    .card {
      border: 1px solid #eee; border-radius: 10px;
      padding: 10px; cursor: pointer; background: #fafafa;
    }
    .card:hover { background: #f4f4f4; }
    .row-top { display: flex; align-items: baseline; justify-content: space-between; gap: 10px; }
    .time { font-weight: 700; font-size: 12px; color: #111; white-space: nowrap; }
    .name { font-weight: 600; font-size: 13px; color: #111; margin-top: 4px; }
    .note { font-size: 12px; color: #555; margin-top: 6px; line-height: 1.35; }
    .badge {
      font-size: 11px; padding: 2px 8px; border-radius: 999px;
      border: 1px solid #ddd; background: #fff; color: #333;
      white-space: nowrap;
    }
    .footer { margin-top: 14px; font-size: 12px; color: #666; line-height: 1.35; }
    .hr { height: 1px; background: #eee; margin: 12px 0; }
    .small { font-size: 11px; color: #777; }
    @media (max-width: 860px) { :root { --sidebar-w: 320px; } }
  </style>
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <h1>伦敦两日精华行程（Google Maps版，可分享）</h1>
      <div class="meta">
        住：Royal National Hotel（Bloomsbury）<br/>
        已锁定：12/23 14:50 大英博物馆；12/23 19:30 伦敦眼；12/24 11:00 卫兵换岗；12/24 19:31 Euston 返程
      </div>

      <div class="section-title">快捷打开（Google Maps）</div>
      <div class="list">
        <div class="card" onclick="openUrl('https://www.google.com/maps/dir/?api=1&origin=Royal%20National%20Hotel%2C%2038-51%20Bedford%20Way%2C%20London&destination=Royal%20National%20Hotel%2C%2038-51%20Bedford%20Way%2C%20London&travelmode=transit&waypoints=Covent%20Garden%2C%20London%20%7C%20British%20Museum%2C%20London%20%7C%20Big%20Ben%2C%20London%20%7C%20London%20Eye%2C%20London')">
          <div class="row-top"><div class="time">Day 1</div><div class="badge">打开路线</div></div>
          <div class="name">12/23：酒店 → 考文特花园 → 大英博物馆 → 西敏 → 伦敦眼 → 酒店</div>
          <div class="note">在 Google Maps 中打开完整路线（含途经点）。</div>
        </div>
        <div class="card" onclick="openUrl('https://www.google.com/maps/dir/?api=1&origin=Royal%20National%20Hotel%2C%2038-51%20Bedford%20Way%2C%20London&destination=London%20Euston%20Station&travelmode=transit&waypoints=Buckingham%20Palace%2C%20London%20%7C%20Borough%20Market%2C%20London%20%7C%20Selfridges%2C%20Oxford%20Street%2C%20London%20%7C%20Oxford%20Circus%20Station%2C%20London%20%7C%20Regent%20Street%2C%20London%20%7C%20Chinatown%2C%20Gerrard%20Street%2C%20London%20%7C%20Royal%20National%20Hotel%2C%2038-51%20Bedford%20Way%2C%20London')">
          <div class="row-top"><div class="time">Day 2</div><div class="badge">打开路线</div></div>
          <div class="name">12/24：酒店 → 白金汉宫 →（可选市场）→ 购物街区 → 唐人街 → 回酒店取行李 → Euston</div>
          <div class="note">在 Google Maps 中打开完整路线（含途经点）。</div>
        </div>
      </div>

      <div class="section-title">Day 1｜12/23（周二）</div>
      <div id="listDay1" class="list"></div>

      <div class="section-title">Day 2｜12/24（周三）</div>
      <div id="listDay2" class="list"></div>

      <div class="hr"></div>
      <div class="footer">
        使用说明：点击任一条目会更新右侧的 Google 地图（iframe）并提供“在 Google Maps 打开”。<br/>
        <span class="small">提示：分享时直接发这个 HTML 文件即可；打开需要联网。</span>
      </div>
    </aside>

    <main class="main">
      <div class="topbar">
        <button class="btn" onclick="setMap('https://maps.google.com/maps?q=Royal%20National%20Hotel%2C%2038-51%20Bedford%20Way%2C%20London&z=15&output=embed', 'https://www.google.com/maps/search/?api=1&query=Royal%20National%20Hotel%2C%2038-51%20Bedford%20Way%2C%20London', '酒店')">定位：酒店</button>
        <button class="btn" onclick="setMap('https://maps.google.com/maps?q=British%20Museum%2C%20London&z=15&output=embed', 'https://www.google.com/maps/search/?api=1&query=British%20Museum%2C%20London', '大英博物馆')">定位：大英博物馆</button>
        <button class="btn" onclick="setMap('https://maps.google.com/maps?q=London%20Eye%2C%20London&z=15&output=embed', 'https://www.google.com/maps/search/?api=1&query=London%20Eye%2C%20London', '伦敦眼')">定位：伦敦眼</button>
        <button class="btn" onclick="setMap('https://maps.google.com/maps?q=Regent%20Street%2C%20London&z=15&output=embed', 'https://www.google.com/maps/search/?api=1&query=Regent%20Street%2C%20London', '摄政街天使灯')">定位：摄政街天使灯</button>
        <span class="small" id="nowTitle">当前：酒店</span>
        <span style="flex:1"></span>
        <a class="btn" id="openInGmaps" href="https://www.google.com/maps/search/?api=1&query=Royal%20National%20Hotel%2C%2038-51%20Bedford%20Way%2C%20London" target="_blank" rel="noopener">在 Google Maps 打开</a>
      </div>
      <iframe id="gmaps" loading="lazy" referrerpolicy="no-referrer-when-downgrade"
        src="https://maps.google.com/maps?q=Royal%20National%20Hotel%2C%2038-51%20Bedford%20Way%2C%20London&z=15&output=embed">
      </iframe>
    </main>
  </div>

<script>
  const PLACES = {"hotel": {"query": "Royal National Hotel, 38-51 Bedford Way, London", "embed": "https://maps.google.com/maps?q=Royal%20National%20Hotel%2C%2038-51%20Bedford%20Way%2C%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=Royal%20National%20Hotel%2C%2038-51%20Bedford%20Way%2C%20London"}, "euston": {"query": "London Euston Station", "embed": "https://maps.google.com/maps?q=London%20Euston%20Station&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=London%20Euston%20Station"}, "britishMuseum": {"query": "British Museum, London", "embed": "https://maps.google.com/maps?q=British%20Museum%2C%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=British%20Museum%2C%20London"}, "coventGarden": {"query": "Covent Garden, London", "embed": "https://maps.google.com/maps?q=Covent%20Garden%2C%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=Covent%20Garden%2C%20London"}, "bigBen": {"query": "Big Ben, London", "embed": "https://maps.google.com/maps?q=Big%20Ben%2C%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=Big%20Ben%2C%20London"}, "westminsterAbbey": {"query": "Westminster Abbey, London", "embed": "https://maps.google.com/maps?q=Westminster%20Abbey%2C%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=Westminster%20Abbey%2C%20London"}, "londonEye": {"query": "London Eye, London", "embed": "https://maps.google.com/maps?q=London%20Eye%2C%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=London%20Eye%2C%20London"}, "buckingham": {"query": "Buckingham Palace, London", "embed": "https://maps.google.com/maps?q=Buckingham%20Palace%2C%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=Buckingham%20Palace%2C%20London"}, "selfridges": {"query": "Selfridges, Oxford Street, London", "embed": "https://maps.google.com/maps?q=Selfridges%2C%20Oxford%20Street%2C%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=Selfridges%2C%20Oxford%20Street%2C%20London"}, "oxfordCircus": {"query": "Oxford Circus Station, London", "embed": "https://maps.google.com/maps?q=Oxford%20Circus%20Station%2C%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=Oxford%20Circus%20Station%2C%20London"}, "regentStreet": {"query": "Regent Street, London", "embed": "https://maps.google.com/maps?q=Regent%20Street%2C%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=Regent%20Street%2C%20London"}, "chinatown": {"query": "Chinatown, Gerrard Street, London", "embed": "https://maps.google.com/maps?q=Chinatown%2C%20Gerrard%20Street%2C%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=Chinatown%2C%20Gerrard%20Street%2C%20London"}, "borough": {"query": "Borough Market, London", "embed": "https://maps.google.com/maps?q=Borough%20Market%2C%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=Borough%20Market%2C%20London"}, "shard": {"query": "The Shard, London Bridge, London", "embed": "https://maps.google.com/maps?q=The%20Shard%2C%20London%20Bridge%2C%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=The%20Shard%2C%20London%20Bridge%2C%20London"}, "towerBridge": {"query": "Tower Bridge, London", "embed": "https://maps.google.com/maps?q=Tower%20Bridge%2C%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=Tower%20Bridge%2C%20London"}, "towerLondon": {"query": "Tower of London", "embed": "https://maps.google.com/maps?q=Tower%20of%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=Tower%20of%20London"}, "stPauls": {"query": "St Paul's Cathedral, London", "embed": "https://maps.google.com/maps?q=St%20Paul%27s%20Cathedral%2C%20London&z=15&output=embed", "open": "https://www.google.com/maps/search/?api=1&query=St%20Paul%27s%20Cathedral%2C%20London"}};

  const DAY1 = [
    { time: "10:00–11:00", poi: "hotel", title: "Euston 抵达 → 酒店放行李/入住", badge: "固定", note: "把行李处理干净，下午更轻松。" },
    { time: "11:00–12:00", poi: "hotel", title: "休整/补给", badge: "机动", note: "咖啡+小食，保证体力。" },
    { time: "12:00–13:00", poi: "coventGarden", title: "考文特花园午餐 + 逛一圈", badge: "精华", note: "控制在 1 小时，避免拖延。" },
    { time: "13:00–14:00", poi: "britishMuseum", title: "回 Bloomsbury & 入馆前缓冲", badge: "缓冲", note: "建议 14:20 前到馆附近，留安检/排队时间。" },
    { time: "14:50–17:00", poi: "britishMuseum", title: "大英博物馆（精华速刷）", badge: "已预约", note: "埃及/希腊等重点优先。" },
    { time: "17:00–18:00", poi: "bigBen", title: "Westminster：大本钟 + 威斯敏斯特教堂外观", badge: "外观", note: "不进教堂，拿到经典照片即可。" },
    { time: "18:00–19:00", poi: "londonEye", title: "Southbank 简单晚餐 + 到伦敦眼入口", badge: "缓冲", note: "建议 19:10 前到入口附近。" },
    { time: "19:30–21:00", poi: "londonEye", title: "伦敦眼（夜景）", badge: "已预约", note: "结束后可顺路拍桥上夜景再回酒店。" },
    { time: "21:00–22:00", poi: "hotel", title: "返回酒店休息", badge: "收尾", note: "第二天要早起看换岗。" }
  ];

  const DAY2 = [
    { time: "08:30–09:30", poi: "hotel", title: "早餐 + 退房准备（行李寄存前台）", badge: "固定", note: "把行李寄存酒店前台，白天更轻松。" },
    { time: "09:30–10:30", poi: "buckingham", title: "前往白金汉宫周边占位", badge: "关键", note: "建议 10:30 前到达宫区。" },
    { time: "10:30–11:00", poi: "buckingham", title: "站位/找视野", badge: "缓冲", note: "The Mall / St James’s Park 一侧通常更舒服。" },
    { time: "11:00–12:00", poi: "buckingham", title: "卫兵换岗（观看）", badge: "必看", note: "看完不恋战，进入下午购物主线。" },
    { time: "12:00–13:00", poi: "borough", title: "（可选）Borough Market 午餐", badge: "可选", note: "若不去市场，直接去 Oxford Street 提前购物。" },
    { time: "13:00–14:00", poi: "selfridges", title: "Selfridges（必须买优先）", badge: "重点", note: "平安夜可能早关门，先完成核心购物。" },
    { time: "14:00–15:00", poi: "oxfordCircus", title: "牛津街（Oxford Street）主街购物/逛街", badge: "精华", note: "从 Selfridges 往 Oxford Circus 方向走最顺。" },
    { time: "15:00–16:00", poi: "regentStreet", title: "摄政街 Regent Street（天使灯核心）", badge: "必逛", note: "建议天色变暗后走这一段更有氛围。" },
    { time: "16:00–17:00", poi: "regentStreet", title: "双层巴士看灯（在灯区坐几站）", badge: "体验", note: "上层前排。坐 20–30 分钟即可。" },
    { time: "17:00–18:00", poi: "chinatown", title: "唐人街早晚餐 + 打卡", badge: "必到", note: "控制节奏，避免排队过久。" },
    { time: "18:00–18:30", poi: "hotel", title: "回酒店取行李", badge: "关键", note: "取行李后直接去 Euston。" },
    { time: "18:30–18:45", poi: "euston", title: "抵达 Euston（务必）", badge: "硬点", note: "预留站台变更/找站台时间。" },
    { time: "19:31", poi: "euston", title: "Euston 发车回曼城", badge: "硬点", note: "行程结束。" }
  ];

  function openUrl(u) {
    window.open(u, "_blank", "noopener");
  }

  function setMap(embedUrl, openUrl, title) {
    document.getElementById("gmaps").src = embedUrl;
    document.getElementById("openInGmaps").href = openUrl;
    document.getElementById("nowTitle").textContent = "当前：" + title;
  }

  function cardHtml(item, dayLabel) {
    const p = PLACES[item.poi];
    return `
      <div class="card" data-day="${dayLabel}" data-poi="${item.poi}">
        <div class="row-top">
          <div class="time">${item.time}</div>
          <div class="badge">${item.badge}</div>
        </div>
        <div class="name">${item.title}</div>
        <div class="note">${p ? p.query : ""}${item.note ? "｜" + item.note : ""}</div>
        <div class="note" style="margin-top:8px;">
          <button class="btn" onclick="event.stopPropagation(); setMap('${p.embed}','${p.open}','${item.title.replace("'", "\'")}')">在右侧查看地图</button>
          <button class="btn" onclick="event.stopPropagation(); openUrl('${p.open}')">在 Google Maps 打开</button>
        </div>
      </div>`;
  }

  document.getElementById("listDay1").innerHTML = DAY1.map(x => cardHtml(x, "day1")).join("");
  document.getElementById("listDay2").innerHTML = DAY2.map(x => cardHtml(x, "day2")).join("");

  // click on card: show in iframe
  document.querySelectorAll(".card").forEach(el => {
    el.addEventListener("click", () => {
      const poi = el.getAttribute("data-poi");
      const p = PLACES[poi];
      if (!p) return;
      setMap(p.embed, p.open, p.query);
    });
  });
</script>
</body>
</html>
